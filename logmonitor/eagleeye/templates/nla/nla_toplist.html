{% extends "nla/index.html" %}
{% block content %}
<div class="top-div">
    <div class="search-box">
        <div class="search">
            <input type="text" id="beginDate" class="datepicker" value="{{ beginDate }}" readonly="true" name="beginDate"/>
        </div>
        <div class="search submit">
            <input type="image" src="/static/images/btn_submit.png" id="submit"/>
        </div>
    </div>
    <div class="clear"></div>
</div>
<div class="middle-div">
    <div id="charts">
        <div class="left-div" style="width: 48%;">
            <div id="chart-processsize-asc"></div>
            <script type="text/javascript">
                FusionCharts._fallbackJSChartWhenNoFlash();
                var chart = new FusionCharts("/static/swf/MSBar2D.swf",
                "csizea", "100%", "740", "0", "1");
                var url = "/nla/nlatoplist/processsize/data/";
                url += "?beginDate={{ beginDate }}%26direction=-1";
                chart.setJSONUrl(url);
                chart.render("chart-processsize-asc");
            </script>
            <br>
            <div id="chart-processsize-desc"></div>
            <script type="text/javascript">
                FusionCharts._fallbackJSChartWhenNoFlash();
                var chart = new FusionCharts("/static/swf/MSBar2D.swf",
                "csized", "100%", "740", "0", "1");
                var url = "/nla/nlatoplist/processsize/data/";
                url += "?beginDate={{ beginDate }}%26direction=1";
                chart.setJSONUrl(url);
                chart.render("chart-processsize-desc");
            </script>
        </div>

        <div class="right-div" style="width: 48%;">
            <div id="chart-processspeed-asc"></div>
            <script type="text/javascript">
                FusionCharts._fallbackJSChartWhenNoFlash();
                var chart = new FusionCharts("/static/swf/MSBar2D.swf",
                "cspeeda", "100%", "740", "0", "1");
                var url = "/nla/nlatoplist/processspeed/data/";
                url += "?beginDate={{ beginDate }}%26direction=-1";
                chart.setJSONUrl(url);
                chart.render("chart-processspeed-asc");
            </script>
            <br>
            <div id="chart-processspeed-desc"></div>
            <script type="text/javascript">
                FusionCharts._fallbackJSChartWhenNoFlash();
                var chart = new FusionCharts("/static/swf/MSBar2D.swf",
                "cspeedd", "100%", "740", "0", "1");
                var url = "/nla/nlatoplist/processspeed/data/";
                url += "?beginDate={{ beginDate }}%26direction=1";
                chart.setJSONUrl(url);
                chart.render("chart-processspeed-desc");
            </script>
        </div>
        <div class="clear"></div>
    </div>
    <div class="clear"></div>
</div>
<script type="text/javascript">
$(document).ready(function() {
    $('.datepicker').datepicker();
    $('#submit').click(function() {
        var day = $('#beginDate').val();

        FusionCharts._fallbackJSChartWhenNoFlash();
        var csizea = FusionCharts("csizea");
        var url1 = "/nla/nlatoplist/processsize/data/";
        url1 += "?beginDate="+day+"%26direction=-1";
        csizea.setJSONUrl(url1);

        var csized = FusionCharts("csized");
        var url2 = "/nla/nlatoplist/processsize/data/";
        url2 += "?beginDate="+day+"%26direction=1";
        csized.setJSONUrl(url2);

        var cspeeda = FusionCharts("cspeeda");
        var url3 = "/nla/nlatoplist/processspeed/data/";
        url3 += "?beginDate="+day+"%26direction=-1";
        cspeeda.setJSONUrl(url3);

        var cspeedd = FusionCharts("cspeedd");
        var url4 = "/nla/nlatoplist/processspeed/data/";
        url4 += "?beginDate="+day+"%26direction=1";
        cspeedd.setJSONUrl(url4);

    });
})
</script>
{% endblock %}